ifndef OS
  OS := $(shell uname -s)
endif

ifeq ($(OS),Linux)
  SO_EXT      = @SO_EXT@
  SHARED_FLAG = -shared
  SONAME_FLAG = -soname
else ifeq ($(OS),Darwin)
  SO_EXT = .dylib
  SHARED_FLAG = -dynamiclib
  SONAME_FLAG = -install_name
#else ifeq ($(OS),Windows_NT)
#  SO_EXT = .dll
else
  $(error Unsupported OS)
endif


PREFIX_DIR = @prefix@
INSTALL_LIB_DIR = @LIBDIR@
INSTALL_INC_DIR = @includedir@

BIFROST_NAME          = @PACKAGE_NAME@
LIBBIFROST_NAME       = lib$(BIFROST_NAME)
LIBBIFROST_MAJOR      = $(shell echo @PACKAGE_VERSION@ | awk -F . '{print $1}')
LIBBIFROST_MINOR      = $(shell echo @PACKAGE_VERSION@ | awk -F . '{print $2}')
LIBBIFROST_PATCH      = $(shell echo @PACKAGE_VERSION@ | awk -F . '{print $3}')
LIBBIFROST_SO         = $(LIBBIFROST_NAME)$(SO_EXT)
LIBBIFROST_SO_MAJ     = $(LIBBIFROST_SO).$(LIBBIFROST_MAJOR)
LIBBIFROST_SO_MAJ_MIN = $(LIBBIFROST_SO_MAJ).$(LIBBIFROST_MINOR)
